(() => { let e = [], t = ["C", "D", "H", "S"], l = ["A", "J", "Q", "K"], r = [], a = document.querySelector("#getCard"), s = document.querySelector("#stop"), d = document.querySelector("#newGame"), n = document.querySelectorAll("small"), i = document.querySelectorAll(".divCartas"), o = (t = 2) => { e = [], r = [], c(); for (let l = 0; l < t; l++)r.push(0); n.forEach(e => e.innerText = 0), i.forEach(e => e.innerHTML = ""), s.disabled = !1, a.disabled = !1 }, c = () => { for (let r = 2; r <= 10; r++)for (let a of t) e.push(r + a); for (let s of l) for (let d of t) e.push(s + d); return e = _.shuffle(e) }, $ = () => { let t = 0 === e.length ? "Ya no hay cartas" : e.pop(); return t }, u = e => { let t = e.substring(0, e.length - 1); return isNaN(t) ? "A" === t ? 11 : 10 : 1 * t }, f = (e, t) => { let l = document.createElement("img"); l.src = `assets/cartas/${t}.png`, l.classList.add("carta"), i[e].appendChild(l) }, h = (e, t) => (r[t] = r[t] + u(e), n[t].innerText = r[t], r[t]), p = e => { let t = 0; do { let l = $(); if (t = h(l, r.length - 1), f(r.length - 1, l), e > 21) break } while (t < e && e <= 21); b(t) }; a.addEventListener("click", () => { let e = $(), t = h(e, 0); f(0, e), t > 21 ? (console.warn("Lo siento papu, perdiste"), a.disabled = !0, s.disabled = !0, p(t)) : 21 === t && (console.warn("Ganaste que Pro"), a.disabled = !0, s.disabled = !0, p(t)) }), s.addEventListener("click", () => { s.disabled = !0, a.disabled = !0, p(r[0]) }), d.addEventListener("click", () => { o() }); let b = () => { let [e, t] = r; setTimeout(() => { t === e ? alert("EMPATE") : t >= 21 ? alert("Felicidades Ganaste") : t <= 21 && alert("LA COMPUTADORA GANA") }, 100), console.log(r) }; return { nuevoJuego: o() } })();